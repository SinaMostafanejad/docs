---
title: Line plots
description: メトリクス を可視化し、軸をカスタマイズし、プロット上の複数の線を比較します。
cascade:
- url: guides/app/features/panels/line-plot/:filename
menu:
  default:
    identifier: ja-guides-models-app-features-panels-line-plot-_index
    parent: panels
url: guides/app/features/panels/line-plot
weight: 10
---

**wandb.log()** で時間経過に伴う メトリクス をプロットすると、デフォルトで折れ線プロットが表示されます。チャート 設定 をカスタマイズして、同じプロット上に複数の線を比較したり、カスタム軸を計算したり、ラベルの名前を変更したりできます。

{{< img src="/images/app_ui/line_plot_example.png" alt="" >}}

## 折れ線 パネル の 設定 を編集する
 
設定 を編集する パネル の上にマウスを移動します。表示される鉛筆アイコンを選択します。表示されるモーダル内で、タブを選択して、 データ 、 グルーピング 、 チャート 、 式 、または 凡例 の 設定 を編集します。

### データ

**データ** タブを選択して、X軸、Y軸、平滑化フィルター、点集約などを編集します。以下に、編集できるオプションのいくつかについて説明します。

{{% alert %}}
カスタムX軸を使用する場合は、Y軸の ログ に使用するのと同じ `wandb.log()` の呼び出しで ログ されていることを確認してください。
{{% /alert %}} 

* **X軸**: デフォルトでは、X軸は **Step** に設定されています。X軸を **Relative Time** に変更するか、W&B で ログ に記録した 値 に基づいてカスタム軸を選択できます。
  * **Relative Time (Wall)** は プロセス が開始されてからのクロック時間であるため、 run を開始して1日後に再開し、何かを ログ に記録すると、24時間後にプロットされます。
  * **Relative Time (Process)** は実行中の プロセス 内の時間であるため、 run を開始して10秒間実行し、1日後に再開すると、その時点は10秒でプロットされます。
  * **Wall Time** は、グラフ上の最初の run の開始からの経過時間（分）です。
  * **Step** は、`wandb.log()` が呼び出されるたびにデフォルトで増分され、 モデル から ログ に記録した トレーニング ステップ の数を反映することになっています。
* **Y軸**: 時間の経過とともに変化する メトリクス や ハイパーパラメーター など、 ログ に記録された 値 からY軸を選択します。
* **最小値 、 最大値 、および ログ スケール**: 折れ線プロットのX軸とY軸の最小値、最大値、および ログ スケール 設定
* **平滑化**: 折れ線プロットの平滑化を変更します。
* **外れ値**: デフォルトのプロットの最小 スケール と最大 スケール から外れ値を排除するようにリスケールします。
* **表示する run の最大数**: この数を増やすことで、折れ線プロットに一度に多くの線を表示できます。デフォルトは10 run です。利用可能な run が10を超えるが、チャートが表示数を制限している場合は、チャートの上部に「最初の10 run を表示しています」というメッセージが表示されます。
* **チャート タイプ**: 折れ線プロット、面プロット、およびパーセンテージ面プロットを切り替えます。

{{% alert %}}
折れ線プロット 設定 で **複数のY軸** を選択して、精度や 検証精度 などの異なる メトリクス を同じチャートで比較します。
{{% /alert %}}

### グルーピング

**グルーピング** タブを選択して、グループ化 メソッド を使用して データ を整理します。

* **グループ化**: 列を選択すると、その列に同じ 値 を持つすべての run がグループ化されます。
* **集計**: 集計 — グラフ上の線の 値 。オプションは、グループの平均、中央値、最小値、および最大値です。

### チャート
[グラフ]タブを選択して、プロットのタイトル、軸タイトル、 凡例 などを編集します。

* **タイトル**: 折れ線プロットにカスタムタイトルを追加します。これはチャートの上部に表示されます。
* **X軸タイトル**: 折れ線プロットのX軸にカスタムタイトルを追加します。これはチャートの右下隅に表示されます。
* **Y軸タイトル**: 折れ線プロットのY軸にカスタムタイトルを追加します。これはチャートの左上隅に表示されます。
* **凡例 を表示**: 凡例 のオン/オフを切り替えます
* **フォント サイズ**: チャートタイトル、X軸タイトル、Y軸タイトルのフォント サイズを変更します
* **凡例 の位置**: チャート上の 凡例 の位置を変更します

### 凡例

* **凡例**: 各線のプロットの 凡例 に表示するフィールドを選択します。たとえば、 run の名前と学習率を表示できます。
* **凡例 テンプレート**: 完全にカスタマイズ可能なこの強力な テンプレート を使用すると、折れ線プロットの上部にある テンプレート に表示するテキストと 変数 、およびマウスをプロットの上に置いたときに表示される 凡例 を正確に指定できます。

### 式

* **Y軸式**: 計算された メトリクス をグラフに追加します。ログ に記録された メトリクス と、 ハイパーパラメーター などの 設定 値 を使用して、カスタム線を計算できます。
* **X軸式**: カスタム式を使用して計算された 値 を使用するようにX軸をリスケールします。便利な 変数 には、デフォルトのX軸の\*\*_step\*\*が含まれ、要約 値 を参照するための構文は `${summary:value}` です。

## プロット上の平均 値 を 可視化 する

いくつかの異なる Experiments があり、プロット上の 値 の平均を表示する場合は、テーブルの グルーピング 機能を使用できます。 run テーブルの上にある「グループ」をクリックし、「すべて」を選択して、グラフに平均 値 を表示します。

平均化前のグラフは次のようになります。

{{< img src="/images/app_ui/demo_precision_lines.png" alt="" >}}

次の図は、グループ化された線を使用して run 全体の平均 値 を表すグラフを示しています。

{{< img src="/images/app_ui/demo_average_precision_lines.png" alt="" >}}

## プロットで NaN 値 を 可視化 する

`wandb.log` を使用して、PyTorch テンソルを含む `NaN` 値 を折れ線プロットにプロットすることもできます。例：

```python
wandb.log({"test": [..., float("nan"), ...]})
```

{{< img src="/images/app_ui/visualize_nan.png" alt="" >}}

## 1つのチャートで2つの メトリクス を比較する

{{< img src="/images/app_ui/visualization_add.gif" alt="" >}}

1. ページの右上隅にある **パネル を追加** ボタンを選択します。
2. 表示される左側の パネル で、[評価]ドロップダウンを展開します。
3. **Run comparer** を選択します

## 折れ線プロットの色を変更する

run のデフォルトの色が比較に役立たない場合があります。これを克服するために、wandb は手動で色を変更できる2つの インスタンス を提供します。

{{< tabpane text=true >}}
{{% tab header="Run table から" value="run_table" %}}

  各 run には、初期化時にデフォルトでランダムな色が与えられます。

  {{< img src="/images/app_ui/line_plots_run_table_random_colors.png" alt="Run に与えられたランダムな色" >}}

  いずれかの色をクリックすると、カラー パレット が表示され、そこから必要な色を手動で選択できます。

  {{< img src="/images/app_ui/line_plots_run_table_color_palette.png" alt="カラー パレット" >}}

{{% /tab %}}

{{% tab header="チャート 凡例 設定 から" value="legend_settings" %}}

1. 設定 を編集する パネル の上にマウスを移動します。
2. 表示される鉛筆アイコンを選択します。
3. **Legend** タブを選択します。

{{< img src="/images/app_ui/plot_style_line_plot_legend.png" alt="" >}}

{{% /tab %}}
{{< /tabpane >}}

## 異なるX軸で 可視化 する

実験 にかかった絶対時間を確認したり、実験 を実行した日を確認したりする場合は、X軸を切り替えることができます。ステップ から相対時間、次にウォール時間への切り替えの例を次に示します。

{{< img src="/images/app_ui/howto_use_relative_time_or_wall_time.gif" alt="" >}}

## 面プロット

折れ線プロット 設定 の [詳細] タブで、異なるプロット スタイル をクリックして、面プロットまたはパーセンテージ面プロットを取得します。

{{< img src="/images/app_ui/line_plots_area_plots.gif" alt="" >}}

## ズーム

長方形をクリックしてドラッグすると、垂直方向と水平方向に同時に ズーム できます。これにより、X軸とY軸の ズーム が変更されます。

{{< img src="/images/app_ui/line_plots_zoom.gif" alt="" >}}

## チャート 凡例 を非表示にする

この簡単なトグルで折れ線プロットの 凡例 をオフにします。

{{< img src="/images/app_ui/demo_hide_legend.gif" alt="" >}}
